(this["webpackJsonpkenyaloans-defi"]=this["webpackJsonpkenyaloans-defi"]||[]).push([[0],{289:function(e,t,n){},290:function(e,t){},291:function(e,t){},311:function(e,t){},312:function(e,t){},34:function(e,t,n){"use strict";function c(e){return{error:null,value:e}}function r(e){return{error:e,value:null}}n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r}))},354:function(e,t){},367:function(e,t){},369:function(e,t){},389:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(25),i=n.n(a),s=n(31),o=n(401),u=n(174),l=(n(289),n(22)),b=n(33),d=n(400),j=n(92),h=n(399),p=n(9),x="EWvYCaM8oLr97fWnhePKTxkr344fU9awKrr5YXA9hKe2",O="https://devnet.solana.com",m=n(26),f=n(169),y=n(18),v=n(331).default,k=new v(p.v),g={connection:new y.b(O,p.j),wallet:k},w=Object(f.a)((function(e,t){switch(t.type){case p.b:return Object(m.a)(Object(m.a)({},e),{},{wallet:t.payload});case p.d:return Object(m.a)(Object(m.a)({},e),{},{wallet:void 0});default:return e}}),g),A=w.dispatch,P=w.useGlobalState,S=n(3),K=n.n(S),I=n(7),R=n(0),N=function(e){var t=e.network,n=P(p.u),r=Object(l.a)(n,1)[0],a=Object(c.useMemo)((function(){return new v(p.v,t)}),[p.v,t]);return a.on(p.b,(function(e){A({payload:a,type:p.b})})),a.on(p.d,(function(){A({type:p.d})})),Object(R.jsx)("div",{children:Object(R.jsx)("div",{children:r&&r._publicKey?Object(R.jsx)(d.a,{icon:"delete",intent:"danger",minimal:!0,small:!0,onClick:Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.disconnect();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Disconnect"}):Object(R.jsx)(d.a,{icon:"power",intent:"primary",minimal:!0,small:!0,onClick:Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.connect();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Connect"})})})};N.defaultProps={network:O};var T,F=n(69),L=n(27),W=n(402),z=n(60),B=n(43),M=n(34),C=n(45),D=n.n(C),_=n(96),G=function(e){return new D.a(e,10,p.e).toNumber()},E=function(e){return new y.c(e)},U=function(e){var t=Array.from(e),n=t.slice(0,4),c=t.slice(4);return JSON.stringify(n)==JSON.stringify([1,0,0,0])?E(Uint8Array.from(c)):void 0},V=function(e){var t=_.a.decode(e),n=U(t.guarantorPubkey),c=n?n.toBase58():void 0,r=U(t.guarantorRepaymentAccountPubkey),a=r?r.toBase58():void 0,i=U(t.collateralAccountPubkey),s=i?i.toBase58():void 0,o=U(t.lenderPubkey),u=o?o.toBase58():void 0,l=U(t.lenderRepaymentPubkey),b=l?l.toBase58():void 0;return Object(m.a)(Object(m.a)({},t),{},{isInitialized:!!t.isInitialized,initializerPubkey:E(t.initializerPubkey).toBase58(),loanMintPubkey:E(t.loanMintPubkey).toBase58(),initializerReceiveLoanPubkey:E(t.initializerReceiveLoanPubkey).toBase58(),guarantorPubkey:c,guarantorRepaymentAccountPubkey:a,collateralAccountPubkey:s,lenderPubkey:u,lenderRepaymentPubkey:b,expectedAmount:G(t.expectedAmount),amount:G(t.amount)})},Y=function(){var e=Object(I.a)(K.a.mark((function e(t){var n,c,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,c=t.loanProgramId,r=new y.c(c),e.prev=2,e.t0=M.b,e.next=6,n.getProgramAccounts(r,p.i);case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:return e.prev=10,e.t2=e.catch(2),e.abrupt("return",Object(M.a)(e.t2));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(I.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t).then((function(e){if(e.error)throw e.error;return e.value.map((function(e){return Object(m.a)(Object(m.a)({},V(e.account.data)),{},{id:e.pubkey.toBase58()})}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(I.a)(K.a.mark((function e(t){var n,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountPublicKey,c=t.connection,e.prev=1,e.t0=M.b,e.next=5,c.getParsedTokenAccountsByOwner(n,{programId:B.a},p.i);case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:return e.prev=9,e.t2=e.catch(1),e.abrupt("return",Object(M.a)(e.t2));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(I.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H(t).then((function(e){if(e.error)throw e.error;return e.value.value.map((function(e){return{id:e.pubkey.toBase58(),info:e.account.data.parsed.info,lamports:e.account.lamports,owner:e.account.owner.toBase58()}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J="Required",Q="Please connect to wallet.";!function(e){e[e.Pending=0]="Pending",e[e.Initialized=1]="Initialized",e[e.Guaranteed=2]="Guaranteed",e[e.Accepted=3]="Accepted",e[e.Repaid=4]="Repaid"}(T||(T={}));var Z=function(e){switch(e){case T.Pending:return"Pending";case T.Initialized:return"Initialized";case T.Guaranteed:return"Guaranteed";case T.Accepted:return"Accepted";case T.Repaid:return"Repaid";default:return"Invalid"}},$=n(37),ee=d.o.create({className:"toaster",position:$.a.TOP}),te=function(){var e,t,n=P(p.u),c=Object(l.a)(n,1)[0],a=P(p.c),i=Object(l.a)(a,1)[0],s=Object(b.g)().loanId,o=r.a.useState(!1),u=Object(l.a)(o,2),j=u[0],h=u[1],O=function(){var e=Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q({loanProgramId:x,connection:i}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(W.a)(p.f,O),f=c&&c._publicKey?Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X({accountPublicKey:c.publicKey,connection:i}));case 1:case"end":return e.stop()}}),e)}))):Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),y=Object(W.a)(p.k,f);if(!c||!c._publicKey)return Object(R.jsx)("div",{className:"column",children:Object(R.jsx)("span",{children:Q})});if(m.isLoading||y.isLoading)return Object(R.jsx)(d.l,{});if(m.error||y.error)return Object(R.jsx)("span",{children:"Error..."});var v=null===(e=m.data)||void 0===e?void 0:e.filter((function(e){return e.id===s}));if(!v||v.length<1)return Object(R.jsx)("p",{children:"Not found"});var k=v[0],g=k.expectedAmount*(k.interestRate/100),w=null===(t=y.data)||void 0===t?void 0:t.filter((function(e){return e.info.mint===k.loanMintPubkey&&Number(e.info.tokenAmount.amount)>=k.expectedAmount}));return Object(R.jsxs)("div",{className:"column",children:[j&&Object(R.jsx)(b.a,{to:p.q}),Object(R.jsxs)(d.c,{children:[Object(R.jsx)(d.e,{children:"Lend Money"}),k.status===T.Guaranteed&&Object(R.jsx)("p",{children:"Please confirm that you want to accept to lend for the loan with the details below."}),Object(R.jsx)("table",{children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"ID"}),Object(R.jsx)("td",{children:k.id})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Initializer"}),Object(R.jsx)("td",{children:k.initializerPubkey})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Token ID"}),Object(R.jsx)("td",{children:k.loanMintPubkey})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Amount"}),Object(R.jsx)("td",{children:k.expectedAmount})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Duration"}),Object(R.jsxs)("td",{children:[k.duration," hours"]})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"APR"}),Object(R.jsxs)("td",{children:[k.interestRate,"%"]})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Status"}),Object(R.jsx)("td",{children:Z(k.status)})]}),k.status>=T.Guaranteed&&Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Guarantor"}),Object(R.jsx)("td",{children:k.guarantorPubkey})]})]})}),k.status===T.Guaranteed?Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsxs)(d.b,{intent:F.a.SUCCESS,children:["You stand to gain ",Object(R.jsx)("strong",{children:"50%"})," of the APR which is ",Object(R.jsx)("strong",{children:g}),Object(R.jsx)("br",{}),"This will be transferred to your account as tokens of the Token ID indicated above."]}),Object(R.jsx)("br",{}),Object(R.jsx)("h3",{className:"bp3-heading",children:"Accept Loan"}),Object(R.jsx)(L.e,{initialValues:{lenderFundsAccount:p.h},validate:function(e){var t={};return e.lenderFundsAccount&&e.lenderFundsAccount!=p.h||(t.lenderFundsAccount=J),t},onSubmit:function(){var e=Object(I.a)(K.a.mark((function e(t,n){var r,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,Object(z.a)({connection:i,borrowerReceiveAccount:k.initializerReceiveLoanPubkey,lenderFundsAccount:t.lenderFundsAccount,loanAccount:k.id,loanProgramId:x,loanMintAccount:k.loanMintPubkey,wallet:c});case 3:a=e.sent,r(!1),a.error?ee.show({message:"Error: ".concat(a.error.message)}):(ee.show({message:"Success! Please wait up to 30 seconds for changes to take place."}),h(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.errors;return Object(R.jsxs)(L.d,{children:[Object(R.jsx)("label",{htmlFor:"lenderFundsAccount",children:"Loan Funds Account"}),Object(R.jsx)("p",{children:"Select a token account to use as a source of funds for this loan. Only accounts of the same token as the loan and with sufficient token balance are avilable below."}),Object(R.jsxs)(L.b,{as:"select",id:"lenderFundsAccount",name:"lenderFundsAccount",children:[Object(R.jsx)("option",{value:"none",children:"--select--"}),w&&w.length>0&&w.map((function(e){return Object(R.jsxs)("option",{value:e.id,children:[e.id," ","//"," ",e.info.tokenAmount.uiAmount]},e.id)}))]}),Object(R.jsx)(L.a,{name:"lenderFundsAccount",component:"p"}),Object(R.jsx)("button",{type:"submit",disabled:t||!c||!c._publicKey||Object.keys(n).length>0,children:"Submit"})]})}})]}):Object(R.jsx)("p",{children:"You cannot provide funds towards this loan."})]})]})},ne=function(){var e=P(p.u),t=Object(l.a)(e,1)[0],n=P(p.c),c=Object(l.a)(n,1)[0],a=r.a.useState(!1),i=Object(l.a)(a,2),s=i[0],o=i[1],u=t&&t._publicKey?Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X({accountPublicKey:t.publicKey,connection:c}));case 1:case"end":return e.stop()}}),e)}))):Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),j=Object(W.a)(p.k,u),h=j.isLoading,O=j.error,m=j.data;return t&&t._publicKey?h?Object(R.jsx)(d.l,{}):O?Object(R.jsx)("span",{children:"Error..."}):Object(R.jsxs)("div",{className:"column",children:[s&&Object(R.jsx)(b.a,{to:p.s}),Object(R.jsx)("h3",{className:"bp3-heading",children:"Apply For Loan"}),Object(R.jsxs)(d.b,{intent:"primary",children:["Fill in the form below to apply for a loan.",Object(R.jsx)("br",{}),"You will need to select a token account that will be used to pay for the loan application fee. This account will also determine the type of token to be used for the loan."]}),Object(R.jsx)(L.e,{initialValues:{amount:599,tokenAccount:p.h},validate:function(e){var t={};return e.amount?e.amount<100&&(t.amount="Invalid amount"):t.amount=J,e.tokenAccount&&e.tokenAccount!=p.h||(t.tokenAccount=J),t},onSubmit:function(){var e=Object(I.a)(K.a.mark((function e(n,r){var a,i;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.setSubmitting,e.next=3,Object(z.c)({connection:c,expectedAmount:n.amount,loanProgramId:x,loanMintAccount:n.tokenAccount,wallet:t});case 3:i=e.sent,a(!1),i.error?ee.show({message:"Error: ".concat(i.error.message)}):(ee.show({message:"Success! Please wait up to 30 seconds for changes to take place."}),o(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.isSubmitting,c=e.errors;return Object(R.jsxs)(L.d,{children:[Object(R.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(R.jsx)(L.b,{id:"amount",type:"number",name:"amount"}),Object(R.jsx)(L.a,{name:"amount",component:"p"}),Object(R.jsx)("label",{htmlFor:"tokenAccount",children:"Token Account"}),Object(R.jsxs)(L.b,{as:"select",id:"tokenAccount",name:"tokenAccount",children:[Object(R.jsx)("option",{value:"none",children:"--select--"}),m&&m.length>0&&m.map((function(e){return Object(R.jsxs)("option",{value:e.info.mint,children:[e.id," ","//"," ",e.info.tokenAmount.uiAmount]},e.id)}))]}),Object(R.jsx)(L.a,{name:"tokenAccount",component:"p"}),Object(R.jsx)("button",{type:"submit",disabled:n||!t||!t._publicKey||Object.keys(c).length>0,children:"Submit"}),(!t||!t._publicKey)&&Object(R.jsx)("p",{children:Q})]})}})]}):Object(R.jsx)("div",{className:"column",children:Object(R.jsx)("span",{children:Q})})},ce=function(){var e,t,n=P(p.u),c=Object(l.a)(n,1)[0],a=P(p.c),i=Object(l.a)(a,1)[0],s=Object(b.g)().loanId,o=r.a.useState(!1),u=Object(l.a)(o,2),j=u[0],h=u[1],O=function(){var e=Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q({loanProgramId:x,connection:i}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(W.a)(p.f,O),f=c&&c._publicKey?Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X({accountPublicKey:c.publicKey,connection:i}));case 1:case"end":return e.stop()}}),e)}))):Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),y=Object(W.a)(p.k,f);if(!c||!c._publicKey)return Object(R.jsx)("div",{className:"column",children:Object(R.jsx)("span",{children:Q})});if(m.isLoading||y.isLoading)return Object(R.jsx)(d.l,{});if(m.error||y.error)return Object(R.jsx)("span",{children:"Error..."});var v=null===(e=m.data)||void 0===e?void 0:e.filter((function(e){return e.id===s}));if(!v||v.length<1)return Object(R.jsx)("p",{children:"Not found"});var k=v[0],g=k.expectedAmount*(k.interestRate/100),w=null===(t=y.data)||void 0===t?void 0:t.filter((function(e){return e.info.mint===k.loanMintPubkey&&Number(e.info.tokenAmount.amount)>=k.expectedAmount}));return Object(R.jsxs)("div",{className:"column",children:[j&&Object(R.jsx)(b.a,{to:p.q}),Object(R.jsxs)(d.c,{children:[Object(R.jsx)(d.e,{children:"Guarantee Loan"}),k.status===T.Initialized&&Object(R.jsx)("p",{children:"Please confirm that you want to provide the collateral for this loan."}),Object(R.jsx)("table",{children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"ID"}),Object(R.jsx)("td",{children:k.id})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Initializer"}),Object(R.jsx)("td",{children:k.initializerPubkey})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Token ID"}),Object(R.jsx)("td",{children:k.loanMintPubkey})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Amount"}),Object(R.jsx)("td",{children:k.expectedAmount})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Duration"}),Object(R.jsxs)("td",{children:[k.duration," hours"]})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"APR"}),Object(R.jsxs)("td",{children:[k.interestRate,"%"]})]}),k.status!==T.Initialized&&Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Status"}),Object(R.jsx)("td",{children:Z(k.status)})]})]})}),k.status===T.Initialized?Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsxs)(d.b,{intent:F.a.SUCCESS,children:["You stand to gain ",Object(R.jsx)("strong",{children:"50%"})," of the APR which is ",Object(R.jsx)("strong",{children:g}),Object(R.jsx)("br",{}),"This will be transferred to your account as tokens of the Token ID indicated above."]}),Object(R.jsx)("br",{}),Object(R.jsx)("h3",{className:"bp3-heading",children:"Guarantee Loan"}),Object(R.jsx)(L.e,{initialValues:{collateralAccount:p.h},validate:function(e){var t={};return e.collateralAccount&&e.collateralAccount!=p.h||(t.collateralAccount=J),t},onSubmit:function(){var e=Object(I.a)(K.a.mark((function e(t,n){var r,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,Object(z.b)({connection:i,loanMintAccount:k.loanMintPubkey,loanCollateralAccount:t.collateralAccount,loanAccount:k.id,loanProgramId:x,wallet:c});case 3:a=e.sent,r(!1),a.error?ee.show({message:"Error: ".concat(a.error.message)}):(ee.show({message:"Success! Please wait up to 30 seconds for changes to take place."}),h(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.errors;return Object(R.jsxs)(L.d,{children:[Object(R.jsx)("label",{htmlFor:"collateralAccount",children:"Collateral Account"}),Object(R.jsx)("p",{children:"Select a token account to use as collateral for this loan. Only accounts of the same token as the loan and with sufficient token balance are available below."}),Object(R.jsxs)(L.b,{as:"select",id:"collateralAccount",name:"collateralAccount",children:[Object(R.jsx)("option",{value:"none",children:"--select--"}),w&&w.length>0&&w.map((function(e){return Object(R.jsxs)("option",{value:e.id,children:[e.id," ","//"," ",e.info.tokenAmount.uiAmount]},e.id)}))]}),Object(R.jsx)(L.a,{name:"collateralAccount",component:"p"}),Object(R.jsx)("button",{type:"submit",disabled:t||!c||!c._publicKey||Object.keys(n).length>0,children:"Submit"})]})}})]}):Object(R.jsx)("p",{children:"You cannot provide collateral for this loan."})]})]})},re=function(e){var t=e.loans,n=P(p.u),c=Object(l.a)(n,1)[0];return Object(R.jsxs)("div",{className:"accept",children:[Object(R.jsx)(d.e,{children:"Lend Funds"}),t.length>0?Object(R.jsx)(d.h,{children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"ID"}),Object(R.jsx)("th",{children:"Amount"}),Object(R.jsx)("th",{children:"Duration (hours)"}),Object(R.jsx)("th",{children:"APR"}),Object(R.jsx)("th",{children:"Status"}),c&&c._publicKey&&Object(R.jsx)("th",{children:"Action"})]}),t.map((function(e){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:e.id}),Object(R.jsx)("td",{children:e.expectedAmount}),Object(R.jsx)("td",{children:e.duration}),Object(R.jsxs)("td",{children:[e.interestRate,"%"]}),Object(R.jsx)("td",{children:Z(e.status)}),c&&c._publicKey&&Object(R.jsx)("td",{children:Object(R.jsx)(s.b,{to:"".concat(p.l,"/").concat(e.id),children:Object(R.jsx)(d.a,{text:"  ",small:!0,minimal:!0,style:{height:"20px"},rightIcon:"arrow-right",intent:"success"})})})]},e.id)}))]})}):Object(R.jsx)("p",{children:"No loans are currently available"})]})},ae=function(e){var t=e.loans,n=P(p.u),c=Object(l.a)(n,1)[0];return Object(R.jsxs)("div",{className:"guarantee",children:[Object(R.jsx)(d.e,{children:"Provide Collateral"}),t.length>0?Object(R.jsx)(d.h,{children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"ID"}),Object(R.jsx)("th",{children:"Amount"}),Object(R.jsx)("th",{children:"Duration (hours)"}),Object(R.jsx)("th",{children:"APR"}),Object(R.jsx)("th",{children:"Status"}),c&&c._publicKey&&Object(R.jsx)("th",{children:"Action"})]}),t.map((function(e){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:e.id}),Object(R.jsx)("td",{children:e.expectedAmount}),Object(R.jsx)("td",{children:e.duration}),Object(R.jsxs)("td",{children:[e.interestRate,"%"]}),Object(R.jsx)("td",{children:Z(e.status)}),c&&c._publicKey&&Object(R.jsx)("td",{children:Object(R.jsx)(s.b,{to:"".concat(p.o,"/").concat(e.id),children:Object(R.jsx)(d.a,{text:"  ",small:!0,minimal:!0,style:{height:"20px"},rightIcon:"arrow-right",intent:"success"})})})]},e.id)}))]})}):Object(R.jsx)("p",{children:"No loans are currently available"})]})},ie=function(e){var t=e.loans,n=P(p.u),c=Object(l.a)(n,1)[0],r=function(e){var t=[];return e.guarantorPubkey===c.publicKey.toBase58()&&t.push("Guarantor"),e.lenderPubkey===c.publicKey.toBase58()&&t.push("Lender"),t.join(", ")};return Object(R.jsxs)("div",{className:"my-investments",children:[Object(R.jsx)(d.e,{children:"My Investments"}),t.length>0?Object(R.jsx)(d.h,{children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"ID"}),Object(R.jsx)("th",{children:"Amount"}),Object(R.jsx)("th",{children:"Duration (hours)"}),Object(R.jsx)("th",{children:"APR"}),Object(R.jsx)("th",{children:"Status"}),c&&c._publicKey&&Object(R.jsx)("th",{children:"Type"})]}),t.map((function(e){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:e.id}),Object(R.jsx)("td",{children:e.expectedAmount}),Object(R.jsx)("td",{children:e.duration}),Object(R.jsxs)("td",{children:[e.interestRate,"%"]}),Object(R.jsx)("td",{children:Z(e.status)}),c&&c._publicKey&&Object(R.jsx)("td",{children:r(e)})]},e.id)}))]})}):Object(R.jsx)("p",{children:"No loans are currently available"})]})},se=function(e){var t=e.loans,n=P(p.u),c=Object(l.a)(n,1)[0];return Object(R.jsxs)("div",{className:"my-loans",children:[Object(R.jsx)(d.e,{children:"My Loans"}),t.length>0?Object(R.jsx)(d.h,{children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"ID"}),Object(R.jsx)("th",{children:"Amount"}),Object(R.jsx)("th",{children:"Duration (hours)"}),Object(R.jsx)("th",{children:"APR"}),Object(R.jsx)("th",{children:"Status"}),c&&c._publicKey&&Object(R.jsx)("th",{children:"Action"})]}),t.map((function(e){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:e.id}),Object(R.jsx)("td",{children:e.expectedAmount}),Object(R.jsx)("td",{children:e.duration}),Object(R.jsxs)("td",{children:[e.interestRate,"%"]}),Object(R.jsx)("td",{children:Z(e.status)}),c&&c._publicKey&&Object(R.jsx)("td",{children:e.status===T.Accepted&&Object(R.jsx)(s.b,{to:"".concat(p.t,"/").concat(e.id),children:Object(R.jsx)(d.a,{text:"Repay",small:!0,minimal:!0,style:{height:"20px"},rightIcon:"arrow-right",intent:"success"})})})]},e.id)}))]})}):Object(R.jsx)("p",{children:"No loans are currently available"})]})},oe=function(e){var t=e.Component,n=e.loanProgramId,c=P(p.c),r=Object(l.a)(c,1)[0],a=function(){var e=Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q({loanProgramId:n,connection:r}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=Object(W.a)(p.f,a),s=i.isLoading,o=i.error,u=i.data,b=e.filters;if(s)return Object(R.jsx)(d.l,{});if(o)return Object(R.jsx)("span",{children:"Error..."});var j=u||[];return b&&(b.initializer&&(j=j.filter((function(e){return e.initializerPubkey===b.initializer}))),b.investor&&(j=j.filter((function(e){return e.guarantorPubkey===b.investor||e.lenderPubkey===b.investor}))),b.status&&(j=j.filter((function(e){var t;return null===(t=b.status)||void 0===t?void 0:t.includes(e.status)}))),b.excludeStatus&&(j=j.filter((function(e){var t;return!(null===(t=b.excludeStatus)||void 0===t?void 0:t.includes(e.status))})))),t?Object(R.jsx)("div",{className:"column",children:Object(R.jsx)(t,{loans:j})}):Object(R.jsx)("div",{className:"column",children:Object(R.jsx)(d.h,{children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"ID"}),Object(R.jsx)("th",{children:"Amount"}),Object(R.jsx)("th",{children:"Duration (hours)"}),Object(R.jsx)("th",{children:"APR"}),Object(R.jsx)("th",{children:"Status"})]}),j.map((function(e){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:e.id}),Object(R.jsx)("td",{children:e.expectedAmount}),Object(R.jsx)("td",{children:e.duration}),Object(R.jsxs)("td",{children:[e.interestRate,"%"]}),Object(R.jsx)("td",{children:Z(e.status)})]},e.id)}))]})})})},ue=function(){var e,t,n=P(p.u),c=Object(l.a)(n,1)[0],a=P(p.c),i=Object(l.a)(a,1)[0],s=Object(b.g)().loanId,o=r.a.useState(!1),u=Object(l.a)(o,2),j=u[0],h=u[1],O=function(){var e=Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q({loanProgramId:x,connection:i}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(W.a)(p.f,O),f=c&&c._publicKey?Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X({accountPublicKey:c.publicKey,connection:i}));case 1:case"end":return e.stop()}}),e)}))):Object(I.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),y=Object(W.a)(p.k,f);if(!c||!c._publicKey)return Object(R.jsx)("div",{className:"column",children:Object(R.jsx)("span",{children:Q})});if(m.isLoading||y.isLoading)return Object(R.jsx)(d.l,{});if(m.error||y.error)return Object(R.jsx)("span",{children:"Error..."});var v=null===(e=m.data)||void 0===e?void 0:e.filter((function(e){return e.id===s}));if(!v||v.length<1)return Object(R.jsx)("p",{children:"Not found"});var k=v[0],g=null===(t=y.data)||void 0===t?void 0:t.filter((function(e){return e.info.mint===k.loanMintPubkey&&Number(e.info.tokenAmount.amount)>=k.expectedAmount}));return Object(R.jsxs)("div",{className:"column",children:[j&&Object(R.jsx)(b.a,{to:p.s}),Object(R.jsxs)(d.c,{children:[Object(R.jsx)(d.e,{children:"Repay Loan"}),k.status===T.Accepted&&Object(R.jsx)("p",{children:"Please confirm that you want to repay this loan."}),Object(R.jsx)("table",{children:Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"ID"}),Object(R.jsx)("td",{children:k.id})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Initializer"}),Object(R.jsx)("td",{children:k.initializerPubkey})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Token ID"}),Object(R.jsx)("td",{children:k.loanMintPubkey})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Amount Borrowed"}),Object(R.jsx)("td",{children:k.expectedAmount})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Amount To Repay"}),Object(R.jsx)("td",{children:k.amount})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Duration"}),Object(R.jsxs)("td",{children:[k.duration," hours"]})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"APR"}),Object(R.jsxs)("td",{children:[k.interestRate,"%"]})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Status"}),Object(R.jsx)("td",{children:Z(k.status)})]}),k.status>=T.Guaranteed&&Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Guarantor"}),Object(R.jsx)("td",{children:k.guarantorPubkey})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Lender"}),Object(R.jsx)("td",{children:k.lenderPubkey})]})]})]})}),k.status===T.Accepted?Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsxs)(d.b,{intent:F.a.SUCCESS,children:["This action will completely repay this loan.",Object(R.jsx)("br",{}),"You will need to repay ",Object(R.jsx)("strong",{children:k.amount}),"."]}),Object(R.jsx)("br",{}),Object(R.jsx)("h3",{className:"bp3-heading",children:"Repay Loan"}),Object(R.jsx)(L.e,{initialValues:{loanRepaymentAccount:p.h},validate:function(e){var t={};return e.loanRepaymentAccount&&e.loanRepaymentAccount!=p.h||(t.loanRepaymentAccount=J),t},onSubmit:function(){var e=Object(I.a)(K.a.mark((function e(t,n){var r,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,Object(z.d)({collateralTokenAccount:k.collateralAccountPubkey||"",connection:i,guarantorAccount:k.guarantorPubkey||"",guarantorTokenAccount:k.guarantorRepaymentAccountPubkey||"",lenderAccount:k.lenderPubkey||"",lenderTokenAccount:k.lenderRepaymentPubkey||"",loanAccount:k.id,loanProgramId:x,payerTokenAccount:t.loanRepaymentAccount,wallet:c});case 3:a=e.sent,r(!1),a.error?ee.show({message:"Error: ".concat(a.error.message)}):(ee.show({message:"Success! Please wait up to 30 seconds for changes to take place."}),h(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.errors;return Object(R.jsxs)(L.d,{children:[Object(R.jsx)("label",{htmlFor:"loanRepaymentAccount",children:"Loan Repayment Account"}),Object(R.jsx)("p",{children:"Select a token account to use as a source of funds for repaying this loan. Only accounts of the same token as the loan and with sufficient token balance are available below."}),Object(R.jsxs)(L.b,{as:"select",id:"loanRepaymentAccount",name:"loanRepaymentAccount",children:[Object(R.jsx)("option",{value:"none",children:"--select--"}),g&&g.length>0&&g.map((function(e){return Object(R.jsxs)("option",{value:e.id,children:[e.id," ","//"," ",e.info.tokenAmount.uiAmount]},e.id)}))]}),Object(R.jsx)(L.a,{name:"loanRepaymentAccount",component:"p"}),Object(R.jsx)("button",{type:"submit",disabled:t||!c||!c._publicKey||Object.keys(n).length>0,children:"Submit"})]})}})]}):Object(R.jsx)("p",{children:"You cannot repay this loan."})]})]})},le=n(5),be=function(){return Object(R.jsxs)("div",{children:[Object(R.jsx)(d.f,{children:"How to Borrow Money"}),Object(R.jsx)("p",{className:le.a.RUNNING_TEXT,children:"Applying for loans is simple and can be done in three easy steps:"}),Object(R.jsxs)("ol",{children:[Object(R.jsx)("li",{children:'Click on "Apply" under the "Borrow menu" item '}),Object(R.jsx)("li",{children:"Fill in the loan application form (and pay the loan application fee) "}),Object(R.jsx)("li",{children:"Once we match you with a lender, funds will be sent directly to your account."})]})]})},de=function(){return Object(R.jsxs)("div",{children:[Object(R.jsx)(d.f,{children:"How To Provide Collateral For Profit"}),Object(R.jsx)("p",{className:le.a.RUNNING_TEXT,children:"A Guarantor provides collateral for a given loan request and receives a significant portion of the interest charged on the loan as payment."}),Object(R.jsxs)("ol",{children:[Object(R.jsx)("li",{children:'Click on "Provide Collateral" under the "Lend menu" item '}),Object(R.jsx)("li",{children:"Select one of the available loans "}),Object(R.jsx)("li",{children:"Fill in the Guarantee Loan form"})]})]})},je=function(){return Object(R.jsxs)("div",{children:[Object(R.jsx)(d.f,{children:"How To Provide Debt Finance For Profit"}),Object(R.jsx)("p",{className:le.a.RUNNING_TEXT,children:"As a lender, you have a great opportunity to earn a relatively-risk-free return on investment by lending money for fully collaterized loans."}),Object(R.jsxs)("ol",{children:[Object(R.jsx)("li",{children:'Click on "Lend" under the "Lend menu" item '}),Object(R.jsx)("li",{children:"Select one of the available loans "}),Object(R.jsx)("li",{children:"Fill in the Lend Loan form"})]})]})},he=function(){var e=P(p.u),t=Object(l.a)(e,1)[0];return Object(R.jsxs)("div",{className:"column",children:[Object(R.jsx)(d.e,{children:"Welcome to Kenya Loans"}),Object(R.jsx)("p",{children:"Searching for a good loan in today's economic conditions is difficult. KenyaLoans matches borrowers with accessible and affordable loans."}),Object(R.jsx)("p",{children:"Our mission is to ensure equitable access to financing to absolutely everyone in the world."}),Object(R.jsx)(d.e,{children:"How Does It Work"}),Object(R.jsxs)(d.n,{id:"tabs",children:[Object(R.jsx)(d.m,{id:"Borrower",title:"Borrower",panel:Object(R.jsx)(be,{})}),Object(R.jsx)(d.m,{id:"Guarantor",title:"Guarantor",panel:Object(R.jsx)(de,{})}),Object(R.jsx)(d.m,{id:"Lender",title:"Lender",panel:Object(R.jsx)(je,{})})]}),t&&t._publicKey?Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)(d.g,{children:"Get Test Token Accounts"}),Object(R.jsx)("p",{children:"This will ensure you can more easily test the system."}),Object(R.jsx)(s.b,{to:p.n,children:Object(R.jsx)(d.a,{type:"button",icon:"wrench",intent:"success",minimal:!0,small:!0,children:"Generate Test Accounts"})})]}):Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)(d.g,{children:"Connect your wallet to begin"}),Object(R.jsx)(N,{})]}),Object(R.jsx)(d.b,{intent:"warning",children:"Kenya Loans is only available on the devnet Solana network as it is still in development."}),Object(R.jsx)("hr",{})]})},pe=n(62),xe=function(){var e=Object(I.a)(K.a.mark((function e(t){var n,c,r,a,i,s,o;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,c=t.wallet,r=t.mint,a=t.initialAccounts,i=new y.f,e.prev=2,e.next=5,n.getMinimumBalanceForRentExemption(pe.a.span);case 5:s=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",Object(M.a)(e.t0));case 11:return o=[],a.forEach((function(e){i.add(y.e.createAccount({fromPubkey:c.publicKey,newAccountPubkey:e.account.publicKey,lamports:s,space:pe.a.span,programId:B.a})),o.push(e.account),i.add(Object(B.b)({account:e.account.publicKey,mint:r,owner:c.publicKey})),i.add(Object(B.c)({mint:r,destination:e.account.publicKey,amount:e.amount,mintAuthority:c.publicKey}))})),e.next=15,Object(z.e)(n,i,c,o);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=P(p.u),t=Object(l.a)(e,1)[0],n=P(p.c),c=Object(l.a)(n,1)[0],a=r.a.useState(!1),i=Object(l.a)(a,2),s=i[0],o=i[1];return t&&t._publicKey?Object(R.jsxs)("div",{className:"column",children:[s&&Object(R.jsx)(b.a,{to:p.m}),Object(R.jsx)(d.e,{children:"Generate Test Accounts"}),Object(R.jsxs)(d.b,{intent:"none",children:["You can create a new mint accounts using the form below.",Object(R.jsx)("br",{}),"Use these for testing the lending functionality."]}),Object(R.jsx)("hr",{}),Object(R.jsx)(d.f,{children:"Create a new token accounts and with these balances:"}),Object(R.jsx)(L.e,{initialValues:{mint:"",accounts:[{amount:133337},{amount:133337},{amount:133337},{amount:133337},{amount:133337}]},onSubmit:function(){var e=Object(I.a)(K.a.mark((function e(n,r){var a,i;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.setSubmitting,e.next=3,xe({connection:c,initialAccounts:n.accounts.map((function(e){return{account:new y.a,amount:e.amount}})),mint:new y.c(n.mint),wallet:t});case 3:i=e.sent,a(!1),i.error?ee.show({message:"Error: ".concat(i.error.message)}):(ee.show({message:"Success! Please wait up to 30 seconds for changes to take place."}),o(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.values;return Object(R.jsxs)(L.d,{children:[Object(R.jsx)("label",{htmlFor:"mint",children:"Mint Address"}),Object(R.jsx)(L.b,{id:"mint",type:"text",name:"mint"}),Object(R.jsx)("p",{children:"To get the mint address, you can mint a test token from sollet.io. Paste the Token Address above."}),Object(R.jsx)(L.c,{name:"accounts",children:function(e){var t=e.remove,c=e.push;return Object(R.jsxs)("div",{children:[n.accounts.length>0&&n.accounts.map((function(e,n){return Object(R.jsxs)("div",{className:"row",children:[Object(R.jsxs)("div",{className:"column",children:[Object(R.jsxs)("label",{htmlFor:"accounts.".concat(n,".amount"),children:["Account ",n+1]}),Object(R.jsx)(L.b,{name:"accounts.".concat(n,".amount"),placeholder:"The amount goes here",type:"number"}),Object(R.jsx)(L.a,{name:"accounts.".concat(n,".amount"),component:"div",className:"field-error"})]}),Object(R.jsx)("div",{className:"column",children:Object(R.jsx)(d.a,{type:"button",small:!0,intent:"danger",minimal:!0,className:"secondary",onClick:function(){return t(n)},children:"X"})})]},n)})),Object(R.jsx)(d.a,{type:"button",className:"secondary",small:!0,intent:"primary",onClick:function(){return c({amount:133337})},children:"Add Account"})]})}}),Object(R.jsx)("hr",{}),Object(R.jsx)(d.a,{disabled:t,type:"submit",intent:"success",large:!0,children:"Submit"})]})}})]}):Object(R.jsx)("div",{className:"column",children:Object(R.jsx)("span",{children:Q})})};n(387),n(388);function me(){var e=P(p.u),t=Object(l.a)(e,1)[0],n=Object(R.jsxs)(d.i,{children:[Object(R.jsx)(s.b,{to:p.m,style:{textDecoration:"none",display:"block"},children:Object(R.jsx)(d.j,{icon:"import",text:"Apply"})}),t&&t._publicKey&&Object(R.jsx)(s.b,{to:p.s,style:{textDecoration:"none",display:"block"},children:Object(R.jsx)(d.j,{icon:"stacked-chart",text:"My Loans"})})]}),c=Object(R.jsxs)(d.i,{children:[Object(R.jsx)(s.b,{to:p.o,style:{textDecoration:"none",display:"block"},children:Object(R.jsx)(d.j,{icon:"export",text:"Provide Collateral"})}),Object(R.jsx)(s.b,{to:p.l,style:{textDecoration:"none",display:"block"},children:Object(R.jsx)(d.j,{icon:"endorsed",text:"Lend"})}),t&&t._publicKey&&Object(R.jsx)(s.b,{to:p.q,style:{textDecoration:"none",display:"block"},children:Object(R.jsx)(d.j,{icon:"timeline-line-chart",text:"My Investments"})}),Object(R.jsx)(s.b,{to:p.r,style:{textDecoration:"none",display:"block"},children:Object(R.jsx)(d.j,{icon:"database",text:"All Loans"})})]});return Object(R.jsxs)("div",{className:"container",style:{maxWidth:"980px"},children:[Object(R.jsx)("div",{className:"row",children:Object(R.jsx)("div",{className:"column",children:Object(R.jsxs)(d.k,{style:{marginBottom:"2rem"},children:[Object(R.jsx)(d.k.Group,{align:j.a.LEFT,children:Object(R.jsx)(d.k.Heading,{children:Object(R.jsx)(d.d,{children:Object(R.jsx)(s.b,{to:p.p,style:{textDecoration:"none"},children:"Kenya Loans"})})})}),Object(R.jsxs)(d.k.Group,{align:j.a.RIGHT,children:[Object(R.jsx)(h.a,{content:n,placement:"bottom-start",children:Object(R.jsx)(d.a,{icon:"import",text:"Borrow",minimal:!0,small:!0})}),Object(R.jsx)(h.a,{content:c,placement:"auto",children:Object(R.jsx)(d.a,{icon:"timeline-line-chart",text:"Lend",minimal:!0,small:!0})}),Object(R.jsx)("span",{className:"bp3-navbar-divider"}),Object(R.jsx)(N,{network:O})]})]})})}),Object(R.jsx)("div",{className:"row",children:Object(R.jsx)("div",{className:"column",children:Object(R.jsx)("div",{className:"row",children:Object(R.jsxs)(b.d,{children:[Object(R.jsx)(b.b,{path:p.p,exact:!0,children:Object(R.jsx)(he,{})}),Object(R.jsx)(b.b,{path:p.n,children:Object(R.jsx)(Oe,{})}),Object(R.jsx)(b.b,{path:p.m,children:Object(R.jsx)(ne,{})}),t&&t._publicKey&&Object(R.jsx)(b.b,{path:p.s,children:Object(R.jsx)(oe,{Component:se,filters:{initializer:t.publicKey.toBase58()},loanProgramId:x})}),Object(R.jsx)(b.b,{path:"".concat(p.l,"/:loanId"),children:Object(R.jsx)(te,{})}),Object(R.jsx)(b.b,{path:"".concat(p.o,"/:loanId"),children:Object(R.jsx)(ce,{})}),Object(R.jsx)(b.b,{path:"".concat(p.t,"/:loanId"),children:Object(R.jsx)(ue,{})}),Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)(b.b,{path:p.r,children:Object(R.jsx)(oe,{filters:{excludeStatus:[T.Repaid]},loanProgramId:x})}),Object(R.jsx)(b.b,{path:p.o,children:Object(R.jsx)(oe,{Component:ae,filters:{status:[T.Initialized]},loanProgramId:x})}),Object(R.jsx)(b.b,{path:p.l,children:Object(R.jsx)(oe,{Component:re,filters:{status:[T.Guaranteed]},loanProgramId:x})}),t&&t._publicKey&&Object(R.jsx)(b.b,{path:p.q,children:Object(R.jsx)(oe,{Component:ie,filters:{investor:t.publicKey.toBase58()},loanProgramId:x})})]})]})})})})]})}var fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,403)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)})).catch((function(e){throw e}))},ye=new o.a;i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(u.a,{client:ye,children:Object(R.jsx)(s.a,{children:Object(R.jsx)(me,{})})})}),document.getElementById("root")),fe()},43:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return d}));var c=n(28),r=n(18),a=n(4),i=n.n(a),s=new r.c("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),o=i.a.union(i.a.u8("instruction"));o.addVariant(0,i.a.struct([i.a.u8("decimals"),i.a.blob(32,"mintAuthority"),i.a.u8("freezeAuthorityOption"),i.a.blob(32,"freezeAuthority")]),"initializeMint"),o.addVariant(1,i.a.struct([]),"initializeAccount"),o.addVariant(3,i.a.struct([i.a.nu64("amount")]),"transfer"),o.addVariant(7,i.a.struct([i.a.nu64("amount")]),"mintTo"),o.addVariant(8,i.a.struct([i.a.nu64("amount")]),"burn"),o.addVariant(9,i.a.struct([]),"closeAccount");var u=Math.max.apply(Math,Object(c.a)(Object.values(o.registry).map((function(e){return e.span}))));function l(t){var n=e.alloc(u),c=o.encode(t,n);return n.slice(0,c)}function b(e){var t=[{pubkey:e.account,isSigner:!1,isWritable:!0},{pubkey:e.mint,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!1,isWritable:!1},{pubkey:r.d,isSigner:!1,isWritable:!1}];return new r.g({keys:t,data:l({initializeAccount:{}}),programId:s})}function d(e){var t=e.amount,n=e.destination,c=[{pubkey:e.mint,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.mintAuthority,isSigner:!0,isWritable:!1}];return new r.g({keys:c,data:l({mintTo:{amount:t}}),programId:s})}}).call(this,n(44).Buffer)},60:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return y}));var c=n(3),r=n.n(c),a=n(28),i=n(7),s=n(18),o=n(62),u=n(45),l=n.n(u),b=n(9),d=n(34),j=n(96),h=n(43);function p(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(r.a.mark((function e(t,n,c){var i,s,o,u,l,j=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=j.length>3&&void 0!==j[3]?j[3]:[],e.prev=1,e.next=4,t.getRecentBlockhash(b.g);case 4:n.recentBlockhash=e.sent.blockhash,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",Object(d.a)(e.t0));case 10:return(i=n).setSigners.apply(i,[c.publicKey].concat(Object(a.a)(s.map((function(e){return e.publicKey}))))),s.length>0&&(o=n).partialSign.apply(o,Object(a.a)(s)),e.prev=12,e.next=15,c.signTransaction(n);case 15:n=e.sent,e.next=21;break;case 18:return e.prev=18,e.t1=e.catch(12),e.abrupt("return",Object(d.a)(e.t1));case 21:e.prev=21,u=n.serialize(),e.next=28;break;case 25:return e.prev=25,e.t2=e.catch(21),e.abrupt("return",Object(d.a)(e.t2));case 28:return e.prev=28,e.next=31,t.sendRawTransaction(u,{preflightCommitment:b.i});case 31:l=e.sent,e.next=37;break;case 34:return e.prev=34,e.t3=e.catch(28),e.abrupt("return",Object(d.a)(e.t3));case 37:return e.abrupt("return",Object(d.b)(l));case 38:case"end":return e.stop()}}),e,null,[[1,7],[12,18],[21,25],[28,34]])})))).apply(this,arguments)}var O=function(){var t=Object(i.a)(r.a.mark((function t(n){var c,i,u,x,O,m,f,y,v,k,g,w;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.connection,i=n.expectedAmount,u=n.wallet,x=n.loanMintAccount,O=n.loanProgramId,m=new s.c(x),f=new s.c(O),y=new s.f,v=new s.a,t.prev=5,t.t0=y,t.t1=s.e,t.t2=u.publicKey,t.t3=v.publicKey,t.next=12,c.getMinimumBalanceForRentExemption(o.a.span,b.j);case 12:t.t4=t.sent,t.t5=o.a.span,t.t6=h.a,t.t7={fromPubkey:t.t2,newAccountPubkey:t.t3,lamports:t.t4,space:t.t5,programId:t.t6},t.t8=t.t1.createAccount.call(t.t1,t.t7),t.t0.add.call(t.t0,t.t8),t.next=23;break;case 20:return t.prev=20,t.t9=t.catch(5),t.abrupt("return",Object(d.a)(t.t9));case 23:return y.add(Object(h.b)({account:v.publicKey,mint:m,owner:u.publicKey})),k=[v],g=new s.a,w=b.a*i,t.prev=27,t.t10=y,t.t11=s.e,t.t12=u.publicKey,t.t13=g.publicKey,t.next=34,c.getMinimumBalanceForRentExemption(j.a.span,b.j);case 34:t.t14=t.sent,t.t15=w,t.t16=t.t14+t.t15,t.t17=j.a.span,t.t18=f,t.t19={fromPubkey:t.t12,newAccountPubkey:t.t13,lamports:t.t16,space:t.t17,programId:t.t18},t.t20=t.t11.createAccount.call(t.t11,t.t19),t.t10.add.call(t.t10,t.t20),t.next=47;break;case 44:return t.prev=44,t.t21=t.catch(27),t.abrupt("return",Object(d.a)(t.t21));case 47:k.push(g),t.prev=48,y.add(new s.g({programId:f,keys:[{pubkey:u.publicKey,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v.publicKey,isSigner:!1,isWritable:!1},{pubkey:g.publicKey,isSigner:!1,isWritable:!0},{pubkey:s.d,isSigner:!1,isWritable:!1},{pubkey:h.a,isSigner:!1,isWritable:!1}],data:e.from(Uint8Array.of.apply(Uint8Array,[0].concat(Object(a.a)(new l.a(i).toArray(b.e,8)))))})),t.next=55;break;case 52:return t.prev=52,t.t22=t.catch(48),t.abrupt("return",Object(d.a)(t.t22));case 55:return t.next=57,p(c,y,u,k);case 57:return t.abrupt("return",t.sent);case 58:case"end":return t.stop()}}),t,null,[[5,20],[27,44],[48,52]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(i.a)(r.a.mark((function t(n){var c,a,i,u,l,j,x,O,m,f,y,v,k;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.connection,a=n.loanMintAccount,i=n.loanAccount,u=n.loanCollateralAccount,l=n.loanProgramId,j=n.wallet,x=new s.c(i),O=new s.c(a),m=new s.c(u),f=new s.c(l),y=new s.f,v=new s.a,t.prev=7,t.t0=y,t.t1=s.e,t.t2=j.publicKey,t.t3=v.publicKey,t.next=14,c.getMinimumBalanceForRentExemption(o.a.span,b.j);case 14:t.t4=t.sent,t.t5=o.a.span,t.t6=h.a,t.t7={fromPubkey:t.t2,newAccountPubkey:t.t3,lamports:t.t4,space:t.t5,programId:t.t6},t.t8=t.t1.createAccount.call(t.t1,t.t7),t.t0.add.call(t.t0,t.t8),t.next=25;break;case 22:return t.prev=22,t.t9=t.catch(7),t.abrupt("return",Object(d.a)(t.t9));case 25:y.add(Object(h.b)({account:v.publicKey,mint:O,owner:j.publicKey})),k=[v],t.prev=27,y.add(new s.g({programId:f,keys:[{pubkey:j.publicKey,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v.publicKey,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:s.d,isSigner:!1,isWritable:!1},{pubkey:h.a,isSigner:!1,isWritable:!1}],data:e.from(Uint8Array.of(1))})),t.next=34;break;case 31:return t.prev=31,t.t10=t.catch(27),t.abrupt("return",Object(d.a)(t.t10));case 34:return t.next=36,p(c,y,j,k);case 36:return t.abrupt("return",t.sent);case 37:case"end":return t.stop()}}),t,null,[[7,22],[27,31]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(i.a)(r.a.mark((function t(n){var c,a,i,u,l,j,x,O,m,f,y,v,k,g,w;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.borrowerReceiveAccount,a=n.connection,i=n.lenderFundsAccount,u=n.loanMintAccount,l=n.loanAccount,j=n.loanProgramId,x=n.wallet,O=new s.c(l),m=new s.c(c),f=new s.c(i),y=new s.c(u),v=new s.c(j),k=new s.f,g=new s.a,t.prev=8,t.t0=k,t.t1=s.e,t.t2=x.publicKey,t.t3=g.publicKey,t.next=15,a.getMinimumBalanceForRentExemption(o.a.span,b.j);case 15:t.t4=t.sent,t.t5=o.a.span,t.t6=h.a,t.t7={fromPubkey:t.t2,newAccountPubkey:t.t3,lamports:t.t4,space:t.t5,programId:t.t6},t.t8=t.t1.createAccount.call(t.t1,t.t7),t.t0.add.call(t.t0,t.t8),t.next=26;break;case 23:return t.prev=23,t.t9=t.catch(8),t.abrupt("return",Object(d.a)(t.t9));case 26:k.add(Object(h.b)({account:g.publicKey,mint:y,owner:x.publicKey})),w=[g],t.prev=28,k.add(new s.g({programId:v,keys:[{pubkey:x.publicKey,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g.publicKey,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:s.d,isSigner:!1,isWritable:!1},{pubkey:h.a,isSigner:!1,isWritable:!1}],data:e.from(Uint8Array.of(2))})),t.next=35;break;case 32:return t.prev=32,t.t10=t.catch(28),t.abrupt("return",Object(d.a)(t.t10));case 35:return t.next=37,p(a,k,x,w);case 37:return t.abrupt("return",t.sent);case 38:case"end":return t.stop()}}),t,null,[[8,23],[28,32]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(i.a)(r.a.mark((function t(n){var c,a,i,o,u,l,j,x,O,m,f,y,v,k,g,w,A,P,S,K,I;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.collateralTokenAccount,a=n.connection,i=n.guarantorAccount,o=n.guarantorTokenAccount,u=n.lenderAccount,l=n.lenderTokenAccount,j=n.loanAccount,x=n.loanProgramId,O=n.payerTokenAccount,m=n.wallet,f=new s.c(j),y=new s.c(O),v=new s.c(c),k=new s.c(i),g=new s.c(o),w=new s.c(u),A=new s.c(l),P=new s.c(x),S=new s.f,t.next=12,s.c.findProgramAddress([e.from(b.f)],P);case 12:K=t.sent,t.prev=13,S.add(new s.g({programId:P,keys:[{pubkey:m.publicKey,isSigner:!0,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:K[0],isSigner:!1,isWritable:!1},{pubkey:h.a,isSigner:!1,isWritable:!1}],data:e.from(Uint8Array.of(3))})),t.next=20;break;case 17:return t.prev=17,t.t0=t.catch(13),t.abrupt("return",Object(d.a)(t.t0));case 20:return I=[],t.next=23,p(a,S,m,I);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t,null,[[13,17]])})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(44).Buffer)},9:function(e,t,n){"use strict";n.d(t,"v",(function(){return c})),n.d(t,"u",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return d})),n.d(t,"k",(function(){return j})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"p",(function(){return x})),n.d(t,"r",(function(){return O})),n.d(t,"q",(function(){return m})),n.d(t,"s",(function(){return f})),n.d(t,"m",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"l",(function(){return k})),n.d(t,"t",(function(){return g})),n.d(t,"n",(function(){return w}));var c="https://www.sollet.io",r="wallet",a="connect",i="connection",s="disconnect",o="single",u="singleGossip",l="le",b="max",d="loan",j="token",h="none",p=.01,x="/",O="/loans",m="/investments",f="/my-loans",y="/apply",v="/collateral",k="/accept",g="/repay",w="/testgen"},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(4),r=n.n(c),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return r.a.blob(32,e)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"optionalPublicKey";return r.a.blob(36,e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return r.a.blob(8,e)},o=r.a.struct([r.a.u8("isInitialized"),r.a.u8("status"),a("initializerPubkey"),a("loanMintPubkey"),a("initializerReceiveLoanPubkey"),i("guarantorPubkey"),i("guarantorRepaymentAccountPubkey"),i("collateralAccountPubkey"),i("lenderPubkey"),i("lenderRepaymentPubkey"),s("expectedAmount"),s("amount"),r.a.u32("interestRate"),r.a.u32("duration")])}},[[389,1,2]]]);
//# sourceMappingURL=main.add2b2d6.chunk.js.map